"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2071],{8453(e,n,t){t.d(n,{R:()=>i,x:()=>s});var a=t(6540);const c={},r=a.createContext(c);function i(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),a.createElement(r.Provider,{value:n},e.children)}},8958(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"api/matchers","title":"Matchers","description":"DLest provides custom matchers specifically designed for analytics testing, plus common Jest-like matchers for general assertions.","source":"@site/docs/api/matchers.md","sourceDirName":"api","slug":"/api/matchers","permalink":"/dlest/pt-BR/api/matchers","draft":false,"unlisted":false,"editUrl":"https://github.com/metricasboss/dlest/tree/main/website/docs/api/matchers.md","tags":[],"version":"current","frontMatter":{},"sidebar":"apiSidebar","previous":{"title":"Test API","permalink":"/dlest/pt-BR/api/test-api"},"next":{"title":"fixtures","permalink":"/dlest/pt-BR/api/fixtures"}}');var c=t(4848),r=t(8453);const i={},s="Matchers",o={},d=[{value:"Analytics Matchers",id:"analytics-matchers",level:2},{value:"<code>toHaveEvent(eventName, eventData?)</code>",id:"tohaveeventeventname-eventdata",level:3},{value:"<code>toHaveEventData(eventData)</code>",id:"tohaveeventdataeventdata",level:3},{value:"<code>toHaveEventCount(eventName, count)</code>",id:"tohaveeventcounteventname-count",level:3},{value:"<code>toHaveEventSequence(eventNames)</code>",id:"tohaveeventsequenceeventnames",level:3},{value:"<code>toHaveGA4Event(eventName, eventData?)</code>",id:"tohavega4eventeventname-eventdata",level:3},{value:"General Matchers",id:"general-matchers",level:2},{value:"Type Checking",id:"type-checking",level:3},{value:"<code>toBeDefined()</code>",id:"tobedefined",level:4},{value:"<code>toBeUndefined()</code>",id:"tobeundefined",level:4},{value:"<code>toBeTruthy()</code>",id:"tobetruthy",level:4},{value:"<code>toBeFalsy()</code>",id:"tobefalsy",level:4},{value:"Equality",id:"equality",level:3},{value:"<code>toBe(expected)</code>",id:"tobeexpected",level:4},{value:"Numeric Comparisons",id:"numeric-comparisons",level:3},{value:"<code>toBeGreaterThan(expected)</code>",id:"tobegreaterthanexpected",level:4},{value:"<code>toBeLessThan(expected)</code>",id:"tobelessthanexpected",level:4},{value:"Collections",id:"collections",level:3},{value:"<code>toHaveLength(expected)</code>",id:"tohavelengthexpected",level:4},{value:"<code>toContain(expected)</code>",id:"tocontainexpected",level:4},{value:"<code>toHaveProperty(property, value?)</code>",id:"tohavepropertyproperty-value",level:4},{value:"Strings",id:"strings",level:3},{value:"<code>toMatch(expected)</code>",id:"tomatchexpected",level:4},{value:"Functions",id:"functions",level:3},{value:"<code>toThrow(expected?)</code>",id:"tothrowexpected",level:4},{value:"Jest Helpers",id:"jest-helpers",level:2},{value:"<code>expect.any(Type)</code>",id:"expectanytype",level:3},{value:"<code>expect.objectContaining(object)</code>",id:"expectobjectcontainingobject",level:3},{value:"<code>expect.arrayContaining(array)</code>",id:"expectarraycontainingarray",level:3},{value:"<code>expect.stringContaining(string)</code>",id:"expectstringcontainingstring",level:3},{value:"<code>expect.stringMatching(regex)</code>",id:"expectstringmatchingregex",level:3},{value:"Negation",id:"negation",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"E-commerce Purchase",id:"e-commerce-purchase",level:3},{value:"Form Validation",id:"form-validation",level:3},{value:"User Journey",id:"user-journey",level:3},{value:"Tips",id:"tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"matchers",children:"Matchers"})}),"\n",(0,c.jsx)(n.p,{children:"DLest provides custom matchers specifically designed for analytics testing, plus common Jest-like matchers for general assertions."}),"\n",(0,c.jsx)(n.h2,{id:"analytics-matchers",children:"Analytics Matchers"}),"\n",(0,c.jsx)(n.h3,{id:"tohaveeventeventname-eventdata",children:(0,c.jsx)(n.code,{children:"toHaveEvent(eventName, eventData?)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if a specific event exists in the dataLayer, optionally with specific data."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Check event exists\nawait expect(dataLayer).toHaveEvent('page_view');\n\n// Check event with exact data\nawait expect(dataLayer).toHaveEvent('purchase', {\n  value: 99.99,\n  currency: 'USD'\n});\n\n// Check event with flexible matching\nawait expect(dataLayer).toHaveEvent('purchase', {\n  transaction_id: expect.any(String),\n  value: expect.any(Number),\n  currency: 'USD',\n  items: expect.arrayContaining([\n    expect.objectContaining({\n      item_id: 'prod-123'\n    })\n  ])\n});\n\n// Negation\nawait expect(dataLayer).not.toHaveEvent('error');\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventName"})," (string): Name of the event to find"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventData"})," (object, optional): Expected event data (uses deep equality)"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"tohaveeventdataeventdata",children:(0,c.jsx)(n.code,{children:"toHaveEventData(eventData)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if any event in the dataLayer contains specific data."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Find event with specific data\nawait expect(dataLayer).toHaveEventData({\n  category: 'electronics',\n  value: 99.99\n});\n\n// With flexible matching\nawait expect(dataLayer).toHaveEventData({\n  user_id: expect.any(String),\n  timestamp: expect.any(Number)\n});\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventData"})," (object): Data to search for in any event"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"tohaveeventcounteventname-count",children:(0,c.jsx)(n.code,{children:"toHaveEventCount(eventName, count)"})}),"\n",(0,c.jsx)(n.p,{children:"Verify the exact number of times an event occurred."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Expect exactly 1 page view\nawait expect(dataLayer).toHaveEventCount('page_view', 1);\n\n// Expect 3 button clicks\nawait expect(dataLayer).toHaveEventCount('button_click', 3);\n\n// Expect 0 errors\nawait expect(dataLayer).toHaveEventCount('error', 0);\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventName"})," (string): Name of the event to count"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"count"})," (number): Expected number of occurrences"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Verify page views in SPAs"}),"\n",(0,c.jsx)(n.li,{children:"Count user interactions"}),"\n",(0,c.jsx)(n.li,{children:"Ensure no duplicate events"}),"\n",(0,c.jsx)(n.li,{children:"Validate error tracking"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"tohaveeventsequenceeventnames",children:(0,c.jsx)(n.code,{children:"toHaveEventSequence(eventNames)"})}),"\n",(0,c.jsx)(n.p,{children:"Validate that events occurred in a specific order."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Verify purchase funnel\nawait expect(dataLayer).toHaveEventSequence([\n  'view_item',\n  'add_to_cart',\n  'begin_checkout',\n  'purchase'\n]);\n\n// Verify navigation flow\nawait expect(dataLayer).toHaveEventSequence([\n  'page_view',\n  'scroll',\n  'form_start',\n  'form_submit'\n]);\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventNames"})," (string[]): Array of event names in expected order"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Important:"})," The matcher looks for the exact sequence in order. Other events can occur before, after, or between the sequence events."]}),"\n",(0,c.jsx)(n.h3,{id:"tohavega4eventeventname-eventdata",children:(0,c.jsx)(n.code,{children:"toHaveGA4Event(eventName, eventData?)"})}),"\n",(0,c.jsx)(n.p,{children:"Validate that a Google Analytics 4 network request was sent with the correct event."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Check GA4 event was sent\nawait expect(network).toHaveGA4Event('purchase');\n\n// Check with specific parameters\nawait expect(network).toHaveGA4Event('purchase', {\n  transaction_id: expect.any(String),\n  value: expect.any(Number),\n  currency: 'USD'\n});\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventName"})," (string): GA4 event name"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"eventData"})," (object, optional): Expected event parameters"]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Note:"})," Requires the ",(0,c.jsx)(n.code,{children:"network"})," fixture. See ",(0,c.jsx)(n.a,{href:"/guides/network-validation",children:"Network Validation"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"general-matchers",children:"General Matchers"}),"\n",(0,c.jsx)(n.p,{children:"DLest includes Jest-compatible matchers for general assertions."}),"\n",(0,c.jsx)(n.h3,{id:"type-checking",children:"Type Checking"}),"\n",(0,c.jsx)(n.h4,{id:"tobedefined",children:(0,c.jsx)(n.code,{children:"toBeDefined()"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if value is defined (not ",(0,c.jsx)(n.code,{children:"undefined"})," or ",(0,c.jsx)(n.code,{children:"null"}),")."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const events = await dataLayer.getEvents();\nexpect(events).toBeDefined();\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tobeundefined",children:(0,c.jsx)(n.code,{children:"toBeUndefined()"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if value is ",(0,c.jsx)(n.code,{children:"undefined"}),"."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const missingEvent = events.find(e => e.event === 'nonexistent');\nexpect(missingEvent).toBeUndefined();\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tobetruthy",children:(0,c.jsx)(n.code,{children:"toBeTruthy()"})}),"\n",(0,c.jsx)(n.p,{children:"Check if value is truthy."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const hasEvents = events.length > 0;\nexpect(hasEvents).toBeTruthy();\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tobefalsy",children:(0,c.jsx)(n.code,{children:"toBeFalsy()"})}),"\n",(0,c.jsx)(n.p,{children:"Check if value is falsy."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const isEmpty = events.length === 0;\nexpect(isEmpty).toBeFalsy();\n"})}),"\n",(0,c.jsx)(n.h3,{id:"equality",children:"Equality"}),"\n",(0,c.jsx)(n.h4,{id:"tobeexpected",children:(0,c.jsx)(n.code,{children:"toBe(expected)"})}),"\n",(0,c.jsxs)(n.p,{children:["Strict equality using ",(0,c.jsx)(n.code,{children:"Object.is()"}),"."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"expect(event.currency).toBe('USD');\nexpect(event.value).toBe(99.99);\nexpect(event.items.length).toBe(1);\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Best for:"})," Primitives (string, number, boolean, null, undefined)"]}),"\n",(0,c.jsx)(n.h3,{id:"numeric-comparisons",children:"Numeric Comparisons"}),"\n",(0,c.jsx)(n.h4,{id:"tobegreaterthanexpected",children:(0,c.jsx)(n.code,{children:"toBeGreaterThan(expected)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if number is greater than expected."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"expect(purchaseEvent.value).toBeGreaterThan(0);\nexpect(events.length).toBeGreaterThan(5);\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tobelessthanexpected",children:(0,c.jsx)(n.code,{children:"toBeLessThan(expected)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if number is less than expected."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"expect(event.price).toBeLessThan(1000);\nexpect(loadTime).toBeLessThan(3000);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"collections",children:"Collections"}),"\n",(0,c.jsx)(n.h4,{id:"tohavelengthexpected",children:(0,c.jsx)(n.code,{children:"toHaveLength(expected)"})}),"\n",(0,c.jsx)(n.p,{children:"Check array or string length."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const events = await dataLayer.getEvents();\nexpect(events).toHaveLength(3);\n\nexpect(event.name).toHaveLength(10);\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tocontainexpected",children:(0,c.jsx)(n.code,{children:"toContain(expected)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if array or string contains a value."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"const eventNames = events.map(e => e.event);\nexpect(eventNames).toContain('purchase');\n\nexpect(event.description).toContain('special offer');\n"})}),"\n",(0,c.jsx)(n.h4,{id:"tohavepropertyproperty-value",children:(0,c.jsx)(n.code,{children:"toHaveProperty(property, value?)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if object has a property, optionally with specific value."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"expect(purchaseEvent).toHaveProperty('transaction_id');\nexpect(purchaseEvent).toHaveProperty('currency', 'USD');\nexpect(purchaseEvent).toHaveProperty('items');\n"})}),"\n",(0,c.jsx)(n.h3,{id:"strings",children:"Strings"}),"\n",(0,c.jsx)(n.h4,{id:"tomatchexpected",children:(0,c.jsx)(n.code,{children:"toMatch(expected)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if string matches pattern (string or regex)."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// With string (substring match)\nexpect(event.transaction_id).toMatch('TXN-');\n\n// With regex\nexpect(event.coupon_code).toMatch(/^SAVE[0-9]+$/);\nexpect(event.email).toMatch(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\n"})}),"\n",(0,c.jsx)(n.h3,{id:"functions",children:"Functions"}),"\n",(0,c.jsx)(n.h4,{id:"tothrowexpected",children:(0,c.jsx)(n.code,{children:"toThrow(expected?)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if function throws an error."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Expects any error\nexpect(() => {\n  throw new Error('oops');\n}).toThrow();\n\n// Expects specific error message\nexpect(() => {\n  throw new Error('Invalid event');\n}).toThrow('Invalid event');\n\n// Expects error matching regex\nexpect(() => {\n  throw new Error('Invalid event name');\n}).toThrow(/Invalid event/);\n\n// Expects specific error type\nexpect(() => {\n  throw new TypeError('Bad type');\n}).toThrow(TypeError);\n"})}),"\n",(0,c.jsx)(n.h2,{id:"jest-helpers",children:"Jest Helpers"}),"\n",(0,c.jsxs)(n.p,{children:["DLest supports Jest's ",(0,c.jsx)(n.code,{children:"expect"})," helpers for flexible matching."]}),"\n",(0,c.jsx)(n.h3,{id:"expectanytype",children:(0,c.jsx)(n.code,{children:"expect.any(Type)"})}),"\n",(0,c.jsx)(n.p,{children:"Match any value of a specific type."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('purchase', {\n  transaction_id: expect.any(String),\n  value: expect.any(Number),\n  items: expect.any(Array)\n});\n"})}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Supported types:"})," String, Number, Boolean, Array, Object, Function"]}),"\n",(0,c.jsx)(n.h3,{id:"expectobjectcontainingobject",children:(0,c.jsx)(n.code,{children:"expect.objectContaining(object)"})}),"\n",(0,c.jsx)(n.p,{children:"Partial object matching (subset of properties)."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('purchase', {\n  user: expect.objectContaining({\n    id: '12345'\n    // Other properties don't matter\n  })\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"expectarraycontainingarray",children:(0,c.jsx)(n.code,{children:"expect.arrayContaining(array)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if array contains specific items (order doesn't matter)."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('purchase', {\n  items: expect.arrayContaining([\n    expect.objectContaining({\n      item_id: 'prod-123'\n    }),\n    expect.objectContaining({\n      item_id: 'prod-456'\n    })\n  ])\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"expectstringcontainingstring",children:(0,c.jsx)(n.code,{children:"expect.stringContaining(string)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if string contains substring."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('form_error', {\n  error_message: expect.stringContaining('required')\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"expectstringmatchingregex",children:(0,c.jsx)(n.code,{children:"expect.stringMatching(regex)"})}),"\n",(0,c.jsx)(n.p,{children:"Check if string matches regex pattern."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('purchase', {\n  transaction_id: expect.stringMatching(/^TXN-[A-Z0-9]+$/),\n  email: expect.stringMatching(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)\n});\n"})}),"\n",(0,c.jsx)(n.h2,{id:"negation",children:"Negation"}),"\n",(0,c.jsxs)(n.p,{children:["All matchers support negation with ",(0,c.jsx)(n.code,{children:".not"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Event should not exist\nawait expect(dataLayer).not.toHaveEvent('error');\n\n// Event count should not be zero\nawait expect(dataLayer).not.toHaveEventCount('page_view', 0);\n\n// Value should not be zero\nexpect(purchaseEvent.value).not.toBe(0);\n\n// String should not contain word\nexpect(event.description).not.toContain('discontinued');\n"})}),"\n",(0,c.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,c.jsx)(n.h3,{id:"e-commerce-purchase",children:"E-commerce Purchase"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('purchase', {\n  transaction_id: expect.any(String),\n  value: expect.any(Number),\n  currency: 'USD',\n  items: expect.arrayContaining([\n    expect.objectContaining({\n      item_id: expect.any(String),\n      item_name: expect.any(String),\n      price: expect.any(Number),\n      quantity: expect.any(Number)\n    })\n  ]),\n  user: expect.objectContaining({\n    id: expect.any(String)\n  })\n});\n"})}),"\n",(0,c.jsx)(n.h3,{id:"form-validation",children:"Form Validation"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"await expect(dataLayer).toHaveEvent('form_submit', {\n  form_name: 'contact',\n  form_destination: 'sales',\n  timestamp: expect.any(Number)\n});\n\n// Verify no errors\nawait expect(dataLayer).not.toHaveEvent('form_error');\n"})}),"\n",(0,c.jsx)(n.h3,{id:"user-journey",children:"User Journey"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-javascript",children:"// Verify complete sequence\nawait expect(dataLayer).toHaveEventSequence([\n  'page_view',\n  'view_item',\n  'add_to_cart',\n  'begin_checkout',\n  'add_payment_info',\n  'purchase'\n]);\n\n// Verify counts\nawait expect(dataLayer).toHaveEventCount('page_view', 3);\nawait expect(dataLayer).toHaveEventCount('add_to_cart', 2);\nawait expect(dataLayer).toHaveEventCount('purchase', 1);\n"})}),"\n",(0,c.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["Use ",(0,c.jsx)(n.code,{children:"expect.any()"})," for dynamic values"]})," like timestamps, IDs, or generated strings"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["Use ",(0,c.jsx)(n.code,{children:"expect.objectContaining()"})," to match partial objects"]})," - don't force exact matches"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["Use ",(0,c.jsx)(n.code,{children:"expect.arrayContaining()"})," for arrays"]})," where order doesn't matter"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Test sequences"})," to validate complete user flows"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Use negation"})," to verify events that shouldn't happen"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Combine matchers"})," for powerful, flexible assertions"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["See ",(0,c.jsx)(n.a,{href:"/examples/ecommerce",children:"real-world examples"})]}),"\n",(0,c.jsxs)(n.li,{children:["Learn about ",(0,c.jsx)(n.a,{href:"/api/fixtures",children:"test fixtures"})]}),"\n",(0,c.jsxs)(n.li,{children:["Explore ",(0,c.jsx)(n.a,{href:"/guides/network-validation",children:"network validation"})]}),"\n",(0,c.jsxs)(n.li,{children:["Read the ",(0,c.jsx)(n.a,{href:"/api/test-api",children:"Test API reference"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}}}]);